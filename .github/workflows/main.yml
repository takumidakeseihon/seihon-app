name: Sync to Hugging Face Hub

on:
  push:
    branches:
      - main  # mainブランチにpushされた時だけ実行

jobs:
  sync-to-hub:
    runs-on: ubuntu-latest
    steps:
      # まず、GitHubリポジトリのコードをチェックアウト（コピー）します
      - name: Checkout repository
        uses: actions/checkout@v4
        with:
          fetch-depth: 0

      # 次に、Hugging Face Hubにファイルをアップロード（同期）します
      - name: Push to Hugging Face Hub
        uses: huggingface/hub-auto-upload@v1
        with:
          # あなたのHugging Faceユーザー名とSpace名
          repo_id: "takumidakesehon/seihon-app"
          # これはSpaceであることを指定
          repo_type: space
          # GitHubのSecretsに登録したHF_TOKENを使用
          hf_token: ${{ secrets.HF_TOKEN }}
